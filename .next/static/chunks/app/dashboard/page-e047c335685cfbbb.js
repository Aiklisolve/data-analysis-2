(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{116:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),l=a(2115),r=a(9349),i=a.n(r),n=a(1607),d=a(877),c=a(2619),m=a.n(c);function o(){let[e,s]=(0,l.useState)([]),[a,r]=(0,l.useState)(null),[n,c]=(0,l.useState)(!0),[o,x]=(0,l.useState)(""),[h,p]=(0,l.useState)("");(0,l.useEffect)(()=>{fetch("/sample2.csv").then(e=>e.text()).then(e=>{i().parse(e,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:e=>{s(e.data.map(e=>({Date:String(e.Date),Sales:Number(e.Sales)||0,Category:String(e.Category||"Unknown"),Units:Number(e.Units)||0}))),c(!1)},error:e=>r(String(e))})}).catch(e=>r(String(e)))},[]);let b=(0,l.useMemo)(()=>o||h?e.filter(e=>{let s=new Date(e.Date);return!(o&&s<new Date(o)||h&&s>new Date(h))&&!0}):e,[e,o,h]),g=(0,l.useMemo)(()=>{let e=new Map;for(let a of b){var s;let t=a.Date;e.set(t,(null!=(s=e.get(t))?s:0)+a.Sales)}let a=Array.from(e.entries()).sort((e,s)=>{let[a]=e,[t]=s;return new Date(a).getTime()-new Date(t).getTime()});return{labels:a.map(e=>{let[s]=e;return s}),data:a.map(e=>{let[,s]=e;return s})}},[b]),j=(0,l.useMemo)(()=>{let e=new Map;for(let a of b){var s;e.set(a.Category,(null!=(s=e.get(a.Category))?s:0)+a.Sales)}let a=Array.from(e.entries()).sort((e,s)=>s[1]-e[1]);return{labels:a.map(e=>{let[s]=e;return s}),data:a.map(e=>{let[,s]=e;return s})}},[b]),u={labels:g.labels,datasets:[{label:"Sales",data:g.data,fill:!1,borderWidth:2,tension:.2,borderColor:"#4f46e5",pointRadius:0,pointHoverRadius:4}]},N={labels:j.labels,datasets:[{label:"Sales by Category",data:j.data,backgroundColor:"rgba(79,70,229,0.85)"}]};return(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)("header",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Retail Analytics Dashboard"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Track daily sales, compare categories, and explore trends over time with an interactive, presentationâ€‘ready view."})]}),(0,t.jsx)("div",{children:(0,t.jsx)(m(),{href:"/",className:"text-sm text-slate-700 underline",children:"â† Home"})})]})}),a&&(0,t.jsx)("p",{className:"text-red-600",children:a}),n&&!a&&(0,t.jsx)("div",{className:"card p-4 mb-6",children:(0,t.jsxs)("div",{className:"animate-pulse flex gap-4 items-center",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-200"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-3 bg-slate-200 rounded w-1/3 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-slate-200 rounded w-1/4"})]})]})}),(0,t.jsx)("section",{className:"card p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm text-slate-600",children:"From (YYYY-MM-DD)"}),(0,t.jsx)("input",{value:o,onChange:e=>x(e.target.value),placeholder:"2024-01-01",className:"px-2 py-1"}),(0,t.jsx)("label",{className:"text-sm text-slate-600",children:"To"}),(0,t.jsx)("input",{value:h,onChange:e=>p(e.target.value),placeholder:"2024-12-31",className:"px-2 py-1"}),(0,t.jsx)("button",{onClick:()=>{x(""),p("")},className:"btn",children:"Reset"})]}),(0,t.jsxs)("div",{className:"text-sm text-slate-600",children:["Rows in range: ",(0,t.jsx)("strong",{children:b.length})," / ",e.length]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Sales Over Time"}),(0,t.jsx)("div",{children:(0,t.jsx)(d.N1,{data:u,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0}}}})})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Sales by Category"}),(0,t.jsx)("div",{children:(0,t.jsx)(d.yP,{data:N,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0}}}})})]})]}),(0,t.jsxs)("section",{className:"mt-6 card p-4",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Sample data preview (first 10 rows)"}),(0,t.jsx)("div",{className:"overflow-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-sm",children:[(0,t.jsx)("thead",{className:"sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border px-2 py-1 text-left bg-white",children:"Date"}),(0,t.jsx)("th",{className:"border px-2 py-1 text-left bg-white",children:"Sales"}),(0,t.jsx)("th",{className:"border px-2 py-1 text-left bg-white",children:"Category"}),(0,t.jsx)("th",{className:"border px-2 py-1 text-left bg-white",children:"Units"})]})}),(0,t.jsx)("tbody",{children:e.slice(0,10).map((e,s)=>(0,t.jsxs)("tr",{className:s%2==0?"bg-white":"bg-slate-50",children:[(0,t.jsx)("td",{className:"border px-2 py-1",children:e.Date}),(0,t.jsx)("td",{className:"border px-2 py-1",children:e.Sales}),(0,t.jsx)("td",{className:"border px-2 py-1",children:e.Category}),(0,t.jsx)("td",{className:"border px-2 py-1",children:e.Units})]},s))})]})})]})]})}n.t1.register(n.PP,n.kc,n.FN,n.No,n.E8,n.hE,n.m_,n.s$)},1700:(e,s,a)=>{Promise.resolve().then(a.bind(a,116))}},e=>{e.O(0,[647,619,935,441,255,358],()=>e(e.s=1700)),_N_E=e.O()}]);